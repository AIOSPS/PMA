<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">
<struts-config>

    <!-- ========== Form Bean Definitions ================================== -->

    <form-beans>
        <form-bean name="loginForm" type="eu.pms.login.forms.LoginForm"/>
        <form-bean name="pmsProjectForm" type="eu.pms.project.forms.PmsProjectForm"/>
        <form-bean name="pmsProjectSearchForm" type="eu.pms.project.forms.PmsProjectSearchForm"/>
        <form-bean name="pmsCommunityForm" type="eu.pms.community.forms.PmsCommunityForm"/>
        <form-bean name="pmsCommunitySearchForm" type="eu.pms.community.forms.PmsCommunitySearchForm"/>
        <form-bean name="pmsInterventionForm" type="eu.pms.intervention.forms.PmsInterventionForm"/>
        <form-bean name="pmsInterventionSearchForm" type="eu.pms.intervention.forms.PmsInterventionSearchForm"/>
        <form-bean name="pmsActivityForm" type="eu.pms.activity.forms.PmsActivityForm"/>
        <form-bean name="pmsActivitySearchForm" type="eu.pms.activity.forms.PmsActivitySearchForm"/>

    </form-beans>

    <global-exceptions>
        <!--<exception key="null.error" type="java.lang.NullPointerException" path="/errorPageAction.do"/>-->
    </global-exceptions>

    <!-- ========== Global Forward Definitions =============================== -->

    <global-forwards>
        <!--<forward name="portalIndex" path="/portalLogin.do"/>-->
    </global-forwards>

    <!-- ========== Action Mapping Definitions =============================== -->

    <action-mappings>

        <action
            type="org.apache.struts.actions.ForwardAction"
            path="/errorPageAction"
            parameter="/pages/invalidPage.jsp"
            />

        <action
                type="org.apache.struts.actions.ForwardAction"
                path="/loginPage"
                parameter="login.tile"
                />

        <action
            name="loginForm"
            type="eu.pms.login.actions.LoginAction"
            validate="true"
            input="/loginPage.do"
            path="/login"
            >
            <forward name="failed"   path="/loginPage.do"/>
            <forward name="success" path="main.tile"/>
        </action>
        <action
                type="org.apache.struts.actions.ForwardAction"
                path="/home"
                parameter="main.tile"
        />

        <action
            type="eu.pms.project.actions.PmsProjectListAction"
            scope="request"
            path="/pmsProjectList">
            <forward name="success" path="pms.projectList.tile" contextRelative="true"/>
        </action>
        <action
                type="eu.pms.project.actions.PmsProjectListAction"
                scope="request"
                path="/searchProject"
                name="pmsProjectSearchForm"
        >
            <forward name="success" path="pms.projectList.tile" contextRelative="true"/>
        </action>
        <action
                name="pmsProjectForm"
                type="eu.pms.project.actions.ViewAddPmsProjectAction"
                validate="false"
                path="/viewAddProject"
        >
            <forward name="success" path="pms.addProject.tile"/>
        </action>
        <action
                name="pmsProjectForm"
                type="eu.pms.project.actions.AddPmsProjectAction"
                validate="false"
                path="/addProject"
        >
            <forward name="success" path="/pmsProjectList.do"/>
        </action>
        <action
                name="pmsProjectForm"
                type="eu.pms.project.actions.ViewPmsProjectAction"
                validate="false"
                path="/viewPmsProject"
        >
            <forward name="success" path="pms.viewProject.tile"/>
        </action>
        <action
                name="pmsProjectForm"
                type="eu.pms.project.actions.ViewPmsProjectAction"
                validate="false"
                path="/viewEditProject"
        >
            <forward name="success" path="pms.editProject.tile"/>
        </action>
        <action
            type="eu.pms.community.actions.PmsCommunityListAction"
            scope="request"
            path="/pmsCommunityList">
            <forward name="success" path="pms.communityList.tile" contextRelative="true"/>
        </action>
        <action
                type="eu.pms.community.actions.PmsCommunityListAction"
                scope="request"
                path="/searchCommunity"
                name="pmsCommunitySearchForm"
        >
            <forward name="success" path="pms.communityList.tile" contextRelative="true"/>
        </action>
        <action
                name="pmsCommunityForm"
                type="eu.pms.community.actions.ViewAddPmsCommunityAction"
                validate="false"
                path="/viewAddCommunity"
        >
            <forward name="success" path="pms.addCommunity.tile"/>
        </action>
        <action
                name="pmsCommunityForm"
                type="eu.pms.community.actions.AddPmsCommunityAction"
                validate="false"
                path="/addCommunity"
        >
            <forward name="success" path="/pmsCommunityList.do"/>
        </action>
        <action
                name="pmsCommunityForm"
                type="eu.pms.community.actions.ViewPmsCommunityAction"
                validate="false"
                path="/viewPmsCommunity"
        >
            <forward name="success" path="pms.viewCommunity.tile"/>
        </action>
        <action
                name="pmsCommunityForm"
                type="eu.pms.community.actions.ViewPmsCommunityAction"
                validate="false"
                path="/viewEditCommunity"
        >
            <forward name="success" path="pms.editCommunity.tile"/>
        </action>
        <action
            type="eu.pms.intervention.actions.PmsInterventionListAction"
            scope="request"
            path="/pmsInterventionList">
            <forward name="success" path="pms.interventionList.tile" contextRelative="true"/>
        </action>
        <action
                type="eu.pms.intervention.actions.PmsInterventionListAction"
                scope="request"
                path="/searchIntervention"
                name="pmsInterventionSearchForm"
        >
            <forward name="success" path="pms.interventionList.tile" contextRelative="true"/>
        </action>
        <action
                name="pmsInterventionForm"
                type="eu.pms.intervention.actions.ViewAddPmsInterventionAction"
                validate="false"
                path="/viewAddIntervention"
        >
            <forward name="success" path="pms.addIntervention.tile"/>
        </action>
        <action
                name="pmsInterventionForm"
                type="eu.pms.intervention.actions.AddPmsInterventionAction"
                validate="false"
                path="/addIntervention"
        >
            <forward name="success" path="/pmsInterventionList.do"/>
        </action>
        <action
                name="pmsInterventionForm"
                type="eu.pms.intervention.actions.ViewPmsInterventionAction"
                validate="false"
                path="/viewPmsIntervention"
        >
            <forward name="success" path="pms.viewIntervention.tile"/>
        </action>
        <action
                name="pmsInterventionForm"
                type="eu.pms.intervention.actions.ViewPmsInterventionAction"
                validate="false"
                path="/viewEditIntervention"
        >
            <forward name="success" path="pms.editIntervention.tile"/>
        </action>
        <action
            type="eu.pms.activity.actions.PmsActivityListAction"
            scope="request"
            path="/pmsActivityList">
            <forward name="success" path="pms.activityList.tile" contextRelative="true"/>
        </action>
        <action
            type="eu.pms.activity.actions.PmsActivityListAction"
            scope="request"
            path="/searchActivity"
            name="pmsActivitySearchForm"
        >
            <forward name="success" path="pms.activityList.tile" contextRelative="true"/>
        </action>
        <action
                name="pmsActivityForm"
                type="eu.pms.activity.actions.ViewAddPmsActivityAction"
                validate="false"
                path="/viewAddActivity"
        >
            <forward name="success" path="pms.addActivity.tile"/>
        </action>
        <action
                name="pmsActivityForm"
                type="eu.pms.activity.actions.AddPmsActivityAction"
                validate="false"
                path="/addActivity"
        >
            <forward name="success" path="/pmsActivityList.do"/>
        </action>
        <action
                name="pmsActivityForm"
                type="eu.pms.activity.actions.ViewPmsActivityAction"
                validate="false"
                path="/viewPmsActivity"
        >
            <forward name="success" path="pms.viewActivity.tile"/>
        </action>
        <action
                name="pmsActivityForm"
                type="eu.pms.activity.actions.ViewPmsActivityAction"
                validate="false"
                path="/viewEditActivity"
        >
            <forward name="success" path="pms.editActivity.tile"/>
        </action>

    </action-mappings>

    <!-- ========== Controller Configuration ================================ -->
    <controller nocache="true" maxFileSize="1M"/>

    <!-- ========== Message Resources Definitions ============================ -->
    <message-resources parameter="ApplicationResources"/>

    <!-- ========== Plug Ins Configuration ================================= -->
    <plug-in className="org.apache.struts.tiles.TilesPlugin">
        <set-property value="/WEB-INF/tilesDef/tilesDef.xml" property="definitions-config"/>
        <set-property value="true" property="moduleAware"/>
        <set-property value="true" property="definitions-parser-validate"/>
    </plug-in>
</struts-config>